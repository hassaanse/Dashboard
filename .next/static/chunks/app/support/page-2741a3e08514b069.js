(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[728,6174],{22828:(s,e,t)=>{Promise.resolve().then(t.bind(t,2805))},2805:(s,e,t)=>{"use strict";t.d(e,{default:()=>T});var a=t(95155),i=t(12115),n=t(81996),r=t.n(n),l=t(11451),o=t(63592),c=t(20457),x=t(2241),d=t(19579),h=t(894),p=t(4918),m=t(41983),j=t(36017),A=t(2091),u=t(60391),b=t(8266),g=t(46805),y=t(10810),w=t(35256),k=t(46552),v=t(94856),C=t(5565);let f={src:"/_next/static/media/Dashboadlogo.8c9740a7.gif",height:150,width:150,blurWidth:0,blurHeight:0};var N=t(2215),W=t(46876),S=t(65509),L=t(62982),P=t(82354),_=t(83746),F=t(78481),D=t(64108),E=t(76046),M=t(56119),O=t(2615);function H(s){let e=(0,E.useRouter)(),t=(0,E.usePathname)();console.log("Pathname is ",t);let{window:n,children:r}=s,[H,T]=(0,i.useState)(!1),[U,z]=(0,i.useState)(!1),[q,G]=(0,i.useState)(!1),{data:K}=(0,O.useSession)({required:!0,onUnauthenticated(){(0,E.redirect)("/")}});K&&console.log("Session User ",K.user);let R=async()=>{await (0,O.signOut)({redirect:!1}),e.push("https://thekoi.ca/")},B=(0,a.jsxs)("div",{children:[(0,a.jsxs)(g.A,{className:"p-[-20px] m-[-8px]",children:[(0,a.jsx)(C.default,{className:"ml-[-20px]",src:f,height:80,width:80,alt:"Logo"}),(0,a.jsx)(y.A,{variant:"h4",noWrap:!0,component:"div",children:"TheKoi"})]}),(0,a.jsx)(x.A,{}),(0,a.jsxs)(p.A,{children:[["Dashboard","Campaigns","Users","Communications"].map((s,i)=>(0,a.jsx)(m.Ay,{disablePadding:!0,className:t.startsWith("/"+s.toLowerCase())?"text-sky-600 bg-slate-100":"text-slate-700",onClick:()=>{e.push("/"+s.toLowerCase())},children:(0,a.jsxs)(j.A,{children:[(0,a.jsxs)(A.A,{className:t.startsWith("/"+s.toLowerCase())?"text-sky-600 bg-slate-100":"text-slate-700",children:[0===i&&(0,a.jsx)(N.A,{}),1===i&&(0,a.jsx)(W.A,{}),2===i&&(0,a.jsx)(S.A,{}),3===i&&(0,a.jsx)(L.A,{})]}),(0,a.jsx)(u.A,{primary:s})]})},s)),(0,a.jsx)(m.Ay,{disablePadding:!0,onClick:()=>{z(!U)},className:t.startsWith("/help")?"text-sky-600 bg-slate-100":"text-slate-700",children:(0,a.jsxs)(j.A,{children:[(0,a.jsx)(A.A,{className:t.startsWith("/help")?"text-sky-600 bg-slate-100":"text-slate-700",onClick:()=>{e.push("/help")},children:(0,a.jsx)(P.A,{})}),(0,a.jsx)(u.A,{primary:"Help"}),U?(0,a.jsx)(v.A,{}):(0,a.jsx)(k.A,{})]})})]}),(0,a.jsx)(x.A,{}),(0,a.jsx)(w.A,{in:U,timeout:"auto",unmountOnExit:!0,children:(0,a.jsx)(p.A,{className:"ml-4",children:["Support","Contact","Help"].map((s,i)=>(0,a.jsx)(m.Ay,{disablePadding:!0,className:t.startsWith("/"+s.toLowerCase())?"text-sky-600 bg-slate-100":"text-slate-700",onClick:()=>{e.push("/"+s.toLowerCase())},children:(0,a.jsxs)(j.A,{children:[(0,a.jsxs)(A.A,{className:t.startsWith("/"+s.toLowerCase())?"text-sky-600 bg-slate-100":"text-slate-700",children:[0===i&&(0,a.jsx)(_.A,{}),1===i&&(0,a.jsx)(F.A,{}),2===i&&(0,a.jsx)(D.A,{})]}),(0,a.jsx)(u.A,{primary:s})]})},s))})})]});return(0,a.jsxs)(o.A,{sx:{display:"flex"},children:[(0,a.jsx)(c.Ay,{}),(0,a.jsx)(l.A,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)")},ml:{sm:"".concat(240,"px")},bgcolor:"#FFFFFF",color:"#2f2f2f"},children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)(g.A,{children:[(0,a.jsx)(h.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:()=>{q||T(!H)},sx:{mr:2,display:{sm:"none"}},children:(0,a.jsx)(b.A,{})}),(0,a.jsx)(y.A,{variant:"h6",noWrap:!0,component:"div",children:"Dashboard"})]}),(0,a.jsx)("div",{className:"mt-3 mr-3 cursor-pointer",onClick:()=>R(),children:(0,a.jsxs)(y.A,{variant:"h6",noWrap:!0,component:"div",children:[(0,a.jsx)(M.A,{})," Logout"]})})]})}),(0,a.jsxs)(o.A,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,a.jsx)(d.Ay,{container:void 0!==n?()=>n().document.body:void 0,variant:"temporary",open:H,onTransitionEnd:()=>{G(!1)},onClose:()=>{G(!0),T(!1)},ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:B}),(0,a.jsx)(d.Ay,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:B})]}),(0,a.jsxs)(o.A,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:[(0,a.jsx)(g.A,{}),(0,a.jsx)("main",{children:r})," "]})]})}H.propTypes={window:r().func,children:r().node};let T=H}},s=>{var e=e=>s(s.s=e);s.O(0,[2615,4399,8441,1517,7358],()=>e(22828)),_N_E=s.O()}]);